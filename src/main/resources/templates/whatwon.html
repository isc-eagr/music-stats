<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>What Won Each Day</title>
	<link rel="stylesheet" href="https://npmcdn.com/flatpickr/dist/themes/dark.css">
	<script src='js/utils.js'></script>
	<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
	<script type="text/javascript">
		window.onload = function(){
			flatpickr("#dateStart", dateConfig);
			flatpickr("#dateEnd", dateConfig);
		}
	</script>
</head>
  <body>
  
  <form th:action="@{/whatWonEachDay}">
		Start date <input type="text" th:name="start" id="dateStart"/>
		End date <input type="text" th:name="end" id="dateEnd"/> 
		<input type="submit"/> 
	</form>

<table th:each="whatWonGroup : ${whatWonGroupList}">
	<tr><th th:text="${whatWonGroup.criteria}"/><th>Number of Days</th><th>Percentage of Days</th></tr>
	<tr th:each="listCount : ${whatWonGroup.listCounts}">
		<td th:text="${listCount.element}"/>
		<td th:text="${listCount.count}"/>
		<td th:text="${#numbers.formatDecimal(listCount.percentage, 1, 'DEFAULT', 2, 'DEFAULT')+'%'}"/>
		
	</tr>
</table>

<table>
	<tr><th>Date</th><th>Genre Won</th><th>Genre Playtime</th><th>Genre Count</th><th>Sex Won</th><th>Sex Playtime</th><th>Sex Count</th></tr>
	<tr th:each="whatWonDay : ${whatWon}">
		<td th:text="${whatWonDay.dateGenre}"/>
		<td th:text="${whatWonDay.genre}"/>
		<td th:text="${whatWonDay.durationGenreText}"/>
		<td th:text="${whatWonDay.countGenre}"/>
		<td th:text="${whatWonDay.sex}"/>
		<td th:text="${whatWonDay.durationSexText}"/>
		<td th:text="${whatWonDay.countSex}"/>
	</tr>
</table>

</body>

</html>