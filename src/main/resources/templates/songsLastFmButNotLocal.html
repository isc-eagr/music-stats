<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Stats</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<script src="/js/table-sort.js"></script>
	<link rel="stylesheet" href="/css/global.css"/>
	<script type="text/javascript">
		function goToCategory(){
			var url="/songsLastFmButNotLocal/";
			if(document.getElementById("account").value != ''){url += document.getElementById("account").value}
			window.location = url;
		}
	</script>
</head>
<body>
	Account: 	  <select id="account" onchange="goToCategory()">
		  			    <option value="">Select...</option>
		  			    <option th:each="account : ${accounts}" th:value="${account}" th:text="${account}"></option>
		  			 </select><br/>
	Songs in lastfm but not locally: <span th:text="${listSongs.size()}">.</span> <br/>
	<table class="table table-compact js-sortable">
	<thead>
		<tr>
			<th>Artist</th>
			<th>Song</th>
			<th>Album</th>
			<th>Account</th>
			<th>Plays</th>
			<th>Insert Song</th>
			<th>Insert Album</th>
			<th>Insert Artist</th>
		</tr>
	</thead>
	<tbody>
		<tr th:each="song : ${listSongs}">
				<td th:text="${song.artist}"/>
				<td th:text="${song.song}"/>
				<td th:text="${song.album}"/>
				<td th:text="${song.account}"/>
				<td th:text="${song.count}" th:attr="data-sort-value=${song.count}"/>
				<td>
					<a th:href="@{'/insertSongForm/'+${#uris.escapePathSegment(#strings.replace(song.artist,'/','*'))}+'/'+${#uris.escapePathSegment(#strings.replace(song.song,'/','*'))}+'/'+${#uris.escapePathSegment(#strings.replace(song.album,'/','*'))}}">Insert Song</a>
				</td>
				<td>
					<a th:href="@{'/insertAlbumForm/'+${song.artist}+'/'+${#uris.escapePathSegment(#strings.replace(song.album,'/','*'))}}">Insert Album</a>
				</td>
				<td>
					<a th:href="@{'/insertAlbumForm/'+${song.artist}}">Insert Artist</a>
				</td>
		</tr>
	</tbody>
	</table>

</body>

</html>